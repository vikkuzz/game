# –°–µ—Ç–µ–≤–∞—è –∏–≥—Ä–∞ - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –±–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Å–µ—Ç–µ–≤–æ–π –∏–≥—Ä—ã —á–µ—Ä–µ–∑ WebSocket (Socket.IO):

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

1. **–°–∏—Å—Ç–µ–º–∞ –ª–æ–±–±–∏**
   - –°–æ–∑–¥–∞–Ω–∏–µ –ª–æ–±–±–∏ —Å –≤—ã–±–æ—Ä–æ–º —Ä–µ–∂–∏–º–∞ –∏–≥—Ä—ã
   - –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ –ª–æ–±–±–∏ –ø–æ ID
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –∏–≥—Ä—ã —á–µ—Ä–µ–∑ 15 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ª–æ–±–±–∏
   - –°–ª—É—á–∞–π–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤ –ø–æ –±–∞–∑–∞–º (—Å–ª–æ—Ç–∞–º)

2. **WebSocket —Å–µ—Ä–≤–µ—Ä**
   - –ö–∞—Å—Ç–æ–º–Ω—ã–π Next.js —Å–µ—Ä–≤–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Socket.IO
   - –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –ª–æ–±–±–∏ –∏ –∏–≥—Ä—ã
   - –°–µ—Ä–≤–µ—Ä–Ω–∞—è –ª–æ–≥–∏–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä–æ–≤—ã–º–∏ –∫–æ–º–Ω–∞—Ç–∞–º–∏

3. **–ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å**
   - –•—É–∫ `useSocket` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å WebSocket
   - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ª–æ–±–±–∏ `/game/lobby`
   - –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –∏–≥—Ä–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∏–≥—Ä—ã
   - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–µ—Ç–µ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∏–≥—Ä—ã

4. **–ù–∞–≤–∏–≥–∞—Ü–∏—è**
   - –°—Å—ã–ª–∫–∞ "–°–µ—Ç–µ–≤–∞—è –∏–≥—Ä–∞" –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é

### üìã –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:

1. **–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è useGameState**
   - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É —Å–µ—Ç–µ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞
   - –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π –∏–≥—Ä–æ–∫–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ WebSocket
   - –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞

2. **–°–µ—Ä–≤–µ—Ä–Ω–∞—è –∏–≥—Ä–æ–≤–∞—è –ª–æ–≥–∏–∫–∞**
   - –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (gameServer.ts)
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
   - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–∞–º–∏

3. **–†–µ–∂–∏–º—ã –∏–≥—Ä—ã**
   - 1 –∏–≥—Ä–æ–∫ + 3 –ò–ò
   - 1 –Ω–∞ 1 + 2 –ò–ò
   - 1+1+1 + 1 –ò–ò
   - 1+1+1+1 (–≤—Å–µ –∏–≥—Ä–æ–∫–∏)

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é:

1. **–ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞:**
   ```bash
   npm run dev
   ```

2. **–°–æ–∑–¥–∞–Ω–∏–µ/–ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ –ª–æ–±–±–∏:**
   - –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ `/game/lobby`
   - –°–æ–∑–¥–∞—Ç—å –ª–æ–±–±–∏ –∏–ª–∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –ø–æ ID
   - –ü–æ—Å–ª–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ª–æ–±–±–∏ –∏–≥—Ä–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è —á–µ—Ä–µ–∑ 15 —Å–µ–∫—É–Ω–¥

3. **–ò–≥—Ä–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞:**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/game?network=true&lobbyId=XXX`
   - –ü–æ–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–µ—Ç–µ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞
   - –ò–≥—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤:

- `src/lib/lobbyServer.ts` - –õ–æ–≥–∏–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–æ–±–±–∏
- `src/lib/socketHandler.ts` - –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ Socket.IO —Å–æ–±—ã—Ç–∏–π
- `src/lib/gameServer.ts` - –°–µ—Ä–≤–µ—Ä–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∏–≥—Ä—ã (–±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è)
- `src/hooks/useSocket.ts` - –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Ö—É–∫ –¥–ª—è WebSocket
- `src/app/game/lobby/page.tsx` - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ª–æ–±–±–∏
- `src/types/lobby.ts` - –¢–∏–ø—ã –¥–ª—è –ª–æ–±–±–∏
- `src/types/gameActions.ts` - –¢–∏–ø—ã –¥–ª—è –∏–≥—Ä–æ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- `server.ts` - –ö–∞—Å—Ç–æ–º–Ω—ã–π Next.js —Å–µ—Ä–≤–µ—Ä

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã
2. –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å useGameState –¥–ª—è —Å–µ—Ç–µ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞
3. –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Ä–µ–∂–∏–º–æ–≤ –∏–≥—Ä—ã —Å –ò–ò
4. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª

